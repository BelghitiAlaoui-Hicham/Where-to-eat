/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['joshNS.min.js']) {
  _$jscoverage['joshNS.min.js'] = [];
  _$jscoverage['joshNS.min.js'][1] = 0;
}
_$jscoverage['joshNS.min.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"s\">\"use strict\"</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">=</span><span class=\"k\">{}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>createCookie<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">,</span>c<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> d<span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> e<span class=\"k\">=</span><span class=\"k\">new</span> Date<span class=\"k\">;</span>e<span class=\"k\">.</span>setTime<span class=\"k\">(</span>e<span class=\"k\">.</span>getTime<span class=\"k\">()+</span>c<span class=\"k\">*</span><span class=\"s\">24</span><span class=\"k\">*</span><span class=\"s\">60</span><span class=\"k\">*</span><span class=\"s\">60</span><span class=\"k\">*</span><span class=\"s\">1e3</span><span class=\"k\">);</span>d<span class=\"k\">=</span><span class=\"s\">\"; expires=\"</span><span class=\"k\">+</span>e<span class=\"k\">.</span>toGMTString<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>d<span class=\"k\">=</span><span class=\"s\">\"\"</span><span class=\"k\">}</span>document<span class=\"k\">.</span>cookie<span class=\"k\">=</span>a<span class=\"k\">+</span><span class=\"s\">\"=\"</span><span class=\"k\">+</span>b<span class=\"k\">+</span>d<span class=\"k\">+</span><span class=\"s\">\"; path=/\"</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>readCookie<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> b<span class=\"k\">=</span>a<span class=\"k\">+</span><span class=\"s\">\"=\"</span><span class=\"k\">;</span><span class=\"k\">var</span> c<span class=\"k\">=</span>document<span class=\"k\">.</span>cookie<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">\";\"</span><span class=\"k\">);</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>d<span class=\"k\">&lt;</span>c<span class=\"k\">.</span>length<span class=\"k\">;</span>d<span class=\"k\">++)</span><span class=\"k\">{</span><span class=\"k\">var</span> e<span class=\"k\">=</span>c<span class=\"k\">[</span>d<span class=\"k\">];</span><span class=\"k\">while</span><span class=\"k\">(</span>e<span class=\"k\">.</span>charAt<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">)===</span><span class=\"s\">\" \"</span><span class=\"k\">)</span><span class=\"k\">{</span>e<span class=\"k\">=</span>e<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">,</span>e<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">if</span><span class=\"k\">(</span>e<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>b<span class=\"k\">)===</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> e<span class=\"k\">.</span>substring<span class=\"k\">(</span>b<span class=\"k\">.</span>length<span class=\"k\">,</span>e<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">}}</span><span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>eraseCookie<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>b<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>createCookie<span class=\"k\">(</span>b<span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">,-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">}}</span><span class=\"k\">)(</span>window<span class=\"k\">.</span>Josh<span class=\"k\">=</span>window<span class=\"k\">.</span>Josh<span class=\"k\">||</span><span class=\"k\">{}</span><span class=\"k\">);(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"s\">\"use strict\"</span><span class=\"k\">;</span><span class=\"k\">var</span> c<span class=\"k\">;</span><span class=\"k\">var</span> d<span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>e<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span><span class=\"k\">var</span> e<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>c<span class=\"k\">=</span>io<span class=\"k\">.</span>connect<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">.</span>prototype<span class=\"k\">.</span>addEvent<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>d<span class=\"k\">)</span><span class=\"k\">{</span>c<span class=\"k\">.</span>on<span class=\"k\">(</span>a<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">{</span>b<span class=\"k\">(</span>d<span class=\"k\">).</span>trigger<span class=\"k\">(</span>a<span class=\"k\">,</span>c<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getVotes<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>c<span class=\"k\">.</span>emit<span class=\"k\">(</span><span class=\"s\">\"getVotes\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getUsers<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>c<span class=\"k\">.</span>emit<span class=\"k\">(</span><span class=\"s\">\"get\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">.</span>prototype<span class=\"k\">.</span>addUser<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">,</span>d<span class=\"k\">)</span><span class=\"k\">{</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>a<span class=\"k\">+</span><span class=\"s\">\" \"</span><span class=\"k\">+</span>b<span class=\"k\">);</span>c<span class=\"k\">.</span>emit<span class=\"k\">(</span><span class=\"s\">\"add\"</span><span class=\"k\">,</span>a<span class=\"k\">,</span>b<span class=\"k\">,</span>d<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Socket<span class=\"k\">.</span>prototype<span class=\"k\">.</span>addVote<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> d<span class=\"k\">=</span>b<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">,</span><span class=\"k\">{}</span><span class=\"k\">,</span>a<span class=\"k\">);</span><span class=\"k\">delete</span> d<span class=\"k\">.</span>marker<span class=\"k\">,</span>d<span class=\"k\">.</span>user<span class=\"k\">;</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>a<span class=\"k\">);</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>d<span class=\"k\">);</span>c<span class=\"k\">.</span>emit<span class=\"k\">(</span><span class=\"s\">\"addVote\"</span><span class=\"k\">,</span>d<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span><span class=\"k\">return</span> a<span class=\"k\">.</span>Socket<span class=\"k\">}</span><span class=\"k\">)(</span>window<span class=\"k\">.</span>Josh<span class=\"k\">=</span>window<span class=\"k\">.</span>Josh<span class=\"k\">||</span><span class=\"k\">{}</span><span class=\"k\">,</span>window<span class=\"k\">.</span>jQuery<span class=\"k\">);(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"s\">\"use strict\"</span><span class=\"k\">;</span>a<span class=\"k\">.</span>User<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>username<span class=\"k\">=</span>a<span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>img<span class=\"k\">=</span>b<span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>imgHTML<span class=\"k\">=</span><span class=\"s\">'&lt;img src=\"'</span><span class=\"k\">+</span>b<span class=\"k\">+</span><span class=\"s\">'\" class=\"userimg\" title=\"'</span><span class=\"k\">+</span>a<span class=\"k\">+</span><span class=\"s\">'\"&gt;'</span><span class=\"k\">}}</span><span class=\"k\">)(</span>window<span class=\"k\">.</span>Josh<span class=\"k\">=</span>window<span class=\"k\">.</span>Josh<span class=\"k\">||</span><span class=\"k\">{}</span><span class=\"k\">,</span>window<span class=\"k\">.</span>jQuery<span class=\"k\">);(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"s\">\"use strict\"</span><span class=\"k\">;</span><span class=\"k\">var</span> c<span class=\"k\">;</span><span class=\"k\">var</span> d<span class=\"k\">;</span><span class=\"k\">var</span> e<span class=\"k\">;</span><span class=\"k\">var</span> f<span class=\"k\">;</span><span class=\"k\">var</span> g<span class=\"k\">;</span><span class=\"k\">var</span> h<span class=\"k\">;</span><span class=\"k\">var</span> i<span class=\"k\">;</span><span class=\"k\">var</span> j<span class=\"k\">;</span><span class=\"k\">var</span> k<span class=\"k\">;</span><span class=\"k\">var</span> l<span class=\"k\">;</span><span class=\"k\">var</span> m<span class=\"k\">;</span><span class=\"k\">var</span> n<span class=\"k\">;</span><span class=\"k\">var</span> o<span class=\"k\">;</span><span class=\"k\">var</span> p<span class=\"k\">;</span>a<span class=\"k\">.</span>Map<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">{</span>c<span class=\"k\">=</span>c<span class=\"k\">;</span>o<span class=\"k\">=</span><span class=\"k\">new</span> a<span class=\"k\">.</span>Socket<span class=\"k\">(</span><span class=\"s\">\"http://ejosh.co:8080/users\"</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>Map<span class=\"k\">(</span>c<span class=\"k\">);</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">);</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"s\">\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"</span><span class=\"k\">;</span><span class=\"k\">var</span> q<span class=\"k\">=</span><span class=\"s\">\"Map data &#169; openstreetmap contributors\"</span><span class=\"k\">;</span><span class=\"k\">var</span> r<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>TileLayer<span class=\"k\">(</span>d<span class=\"k\">,</span><span class=\"k\">{</span>minZoom<span class=\"k\">:</span><span class=\"s\">8</span><span class=\"k\">,</span>maxZoom<span class=\"k\">:</span><span class=\"s\">18</span><span class=\"k\">,</span>attribution<span class=\"k\">:</span>q<span class=\"k\">}</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>addLayer<span class=\"k\">(</span>r<span class=\"k\">);</span>e<span class=\"k\">=</span>L<span class=\"k\">.</span>Icon<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{</span>shadowUrl<span class=\"k\">:</span><span class=\"k\">null</span><span class=\"k\">,</span>iconSize<span class=\"k\">:</span><span class=\"k\">new</span> L<span class=\"k\">.</span>Point<span class=\"k\">(</span><span class=\"s\">32</span><span class=\"k\">,</span><span class=\"s\">32</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>f<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"fsRest\"</span><span class=\"k\">);</span>h<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"acts\"</span><span class=\"k\">);</span>g<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"votes\"</span><span class=\"k\">);</span>i<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"loginArea\"</span><span class=\"k\">);</span>j<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"search\"</span><span class=\"k\">);</span>k<span class=\"k\">=</span>b<span class=\"k\">(</span><span class=\"s\">\"#searchText\"</span><span class=\"k\">);</span>l<span class=\"k\">=</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"clear\"</span><span class=\"k\">);</span>m<span class=\"k\">=</span>b<span class=\"k\">(</span><span class=\"s\">\"#title\"</span><span class=\"k\">);</span>p<span class=\"k\">=</span>b<span class=\"k\">(</span><span class=\"s\">\"#alert\"</span><span class=\"k\">);</span><span class=\"k\">var</span> s<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">;</span>navigator<span class=\"k\">.</span>geolocation<span class=\"k\">.</span>getCurrentPosition<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>s<span class=\"k\">.</span>centerLoc<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>locError<span class=\"k\">,</span><span class=\"k\">{</span>timeout<span class=\"k\">:</span><span class=\"s\">1e4</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>f<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"s\">\"button\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> c<span class=\"k\">=</span>b<span class=\"k\">(</span>a<span class=\"k\">.</span>target<span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>s<span class=\"k\">.</span>currentUser<span class=\"k\">!==</span><span class=\"k\">null</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> d<span class=\"k\">=</span>c<span class=\"k\">.</span>attr<span class=\"k\">(</span><span class=\"s\">\"data-fsid\"</span><span class=\"k\">);</span><span class=\"k\">var</span> e<span class=\"k\">=</span>s<span class=\"k\">.</span>findFs<span class=\"k\">(</span>d<span class=\"k\">);</span>o<span class=\"k\">.</span>addVote<span class=\"k\">(</span>e<span class=\"k\">);</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>s<span class=\"k\">.</span>findFs<span class=\"k\">(</span>d<span class=\"k\">))</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>s<span class=\"k\">.</span>addAlert<span class=\"k\">(</span><span class=\"s\">\"You must be logged in!\"</span><span class=\"k\">)</span><span class=\"k\">}}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>g<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"s\">\"li a\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>s<span class=\"k\">.</span>showRest<span class=\"k\">(</span>b<span class=\"k\">(</span>a<span class=\"k\">.</span>target<span class=\"k\">).</span>attr<span class=\"k\">(</span><span class=\"s\">\"data-fsid\"</span><span class=\"k\">))</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>h<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"s\">\"li a\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>s<span class=\"k\">.</span>showRest<span class=\"k\">(</span>b<span class=\"k\">(</span>a<span class=\"k\">.</span>target<span class=\"k\">).</span>attr<span class=\"k\">(</span><span class=\"s\">\"data-fsid\"</span><span class=\"k\">))</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>i<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"focusout\"</span><span class=\"k\">,</span><span class=\"s\">\"input\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> c<span class=\"k\">=</span>b<span class=\"k\">(</span>a<span class=\"k\">.</span>target<span class=\"k\">).</span>val<span class=\"k\">();</span>s<span class=\"k\">.</span>addUser<span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>i<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"s\">\"a\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>s<span class=\"k\">.</span>removeUser<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>j<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>s<span class=\"k\">.</span>addAlert<span class=\"k\">(</span><span class=\"s\">\"Searching for Restaurants\"</span><span class=\"k\">);</span>a<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>s<span class=\"k\">.</span>findRests<span class=\"k\">(</span>k<span class=\"k\">.</span>val<span class=\"k\">());</span>s<span class=\"k\">.</span>removeAlert<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span>l<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>k<span class=\"k\">.</span>val<span class=\"k\">(</span><span class=\"s\">\"\"</span><span class=\"k\">);</span>s<span class=\"k\">.</span>addSearchLayer<span class=\"k\">(</span><span class=\"k\">{}</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>p<span class=\"k\">.</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>s<span class=\"k\">.</span>removeAlert<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>searchFs<span class=\"k\">=</span><span class=\"k\">{}</span><span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">=</span><span class=\"k\">new</span> a<span class=\"k\">.</span>Votes<span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>currentUser<span class=\"k\">=</span><span class=\"k\">null</span><span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">=</span><span class=\"k\">null</span><span class=\"k\">;</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">=</span><span class=\"k\">null</span><span class=\"k\">;</span>o<span class=\"k\">.</span>addEvent<span class=\"k\">(</span><span class=\"s\">\"vote\"</span><span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">);</span>b<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"vote\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>b<span class=\"k\">,</span>c<span class=\"k\">)</span><span class=\"k\">{</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>id<span class=\"k\">]===</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>addMarker<span class=\"k\">(</span>c<span class=\"k\">.</span>fs<span class=\"k\">);</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>marker<span class=\"k\">=</span>d<span class=\"k\">}</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>user<span class=\"k\">=[</span><span class=\"k\">new</span> a<span class=\"k\">.</span>User<span class=\"k\">(</span>c<span class=\"k\">.</span>username<span class=\"k\">,</span>c<span class=\"k\">.</span>img<span class=\"k\">)];</span><span class=\"k\">this</span><span class=\"k\">.</span>addActivity<span class=\"k\">(</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>user<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>name<span class=\"k\">,</span>c<span class=\"k\">.</span>fs<span class=\"k\">.</span>id<span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>addVote<span class=\"k\">(</span>c<span class=\"k\">.</span>fs<span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>showVotes<span class=\"k\">();</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>b<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">).</span>on<span class=\"k\">(</span><span class=\"s\">\"removeLayer\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span>s<span class=\"k\">.</span>removeLayer<span class=\"k\">(</span>b<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>window<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">\"hashchange\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>window<span class=\"k\">.</span>location<span class=\"k\">.</span>reload<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>window<span class=\"k\">.</span>location<span class=\"k\">.</span>hash<span class=\"k\">)</span><span class=\"k\">{</span>n<span class=\"k\">=</span>String<span class=\"k\">(</span>window<span class=\"k\">.</span>location<span class=\"k\">.</span>hash<span class=\"k\">).</span>slice<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>m<span class=\"k\">.</span>html<span class=\"k\">(</span>n<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>n<span class=\"k\">=</span><span class=\"s\">\"default\"</span><span class=\"k\">}</span><span class=\"k\">var</span> t<span class=\"k\">=</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>readCookie<span class=\"k\">(</span><span class=\"s\">\"username\"</span><span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>t<span class=\"k\">!==</span><span class=\"k\">null</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>addUser<span class=\"k\">(</span>t<span class=\"k\">)</span><span class=\"k\">}</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>map <span class=\"k\">instanceof</span> L<span class=\"k\">.</span>Map<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Map<span class=\"k\">.</span>prototype<span class=\"k\">=</span><span class=\"k\">{</span>centerLoc<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">=</span>a<span class=\"k\">;</span><span class=\"k\">var</span> b<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>LatLng<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">.</span>coords<span class=\"k\">.</span>latitude<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">.</span>coords<span class=\"k\">.</span>longitude<span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>setView<span class=\"k\">(</span>b<span class=\"k\">,</span><span class=\"s\">11</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>addMarker<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span>b<span class=\"k\">=</span><span class=\"k\">typeof</span> b<span class=\"k\">!==</span><span class=\"s\">\"undefined\"</span><span class=\"k\">?</span>b<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">;</span><span class=\"k\">var</span> c<span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>a<span class=\"k\">.</span>categories<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>c<span class=\"k\">=</span><span class=\"k\">new</span> e<span class=\"k\">(</span>a<span class=\"k\">.</span>categories<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>icon<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>c<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>Icon<span class=\"k\">(</span><span class=\"s\">\"images/marker.png\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>LatLng<span class=\"k\">(</span>a<span class=\"k\">.</span>location<span class=\"k\">.</span>lat<span class=\"k\">,</span>a<span class=\"k\">.</span>location<span class=\"k\">.</span>lng<span class=\"k\">);</span><span class=\"k\">var</span> f<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>Marker<span class=\"k\">(</span>d<span class=\"k\">,</span><span class=\"k\">{</span>icon<span class=\"k\">:</span>c<span class=\"k\">,</span>title<span class=\"k\">:</span>a<span class=\"k\">.</span>name<span class=\"k\">}</span><span class=\"k\">);</span>f<span class=\"k\">.</span>fsid<span class=\"k\">=</span>a<span class=\"k\">.</span>id<span class=\"k\">;</span>f<span class=\"k\">.</span>img<span class=\"k\">=</span>c<span class=\"k\">.</span>iconUrl<span class=\"k\">;</span><span class=\"k\">var</span> g<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">;</span>f<span class=\"k\">.</span>on<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>g<span class=\"k\">.</span>showRest<span class=\"k\">(</span>a<span class=\"k\">.</span>target<span class=\"k\">.</span>fsid<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>addLayer<span class=\"k\">(</span>f<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">return</span> f<span class=\"k\">}</span><span class=\"k\">,</span>removeLayer<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>removeLayer<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>addSearchLayer<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">!==</span><span class=\"k\">null</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>removeLayer<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">=</span><span class=\"k\">new</span> L<span class=\"k\">.</span>LayerGroup<span class=\"k\">;</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> b <span class=\"k\">in</span> a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>addSearchFs<span class=\"k\">(</span>a<span class=\"k\">[</span>b<span class=\"k\">]);</span><span class=\"k\">var</span> c<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>addMarker<span class=\"k\">(</span>a<span class=\"k\">[</span>b<span class=\"k\">],</span><span class=\"k\">false</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">.</span>addLayer<span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">this</span><span class=\"k\">.</span>map<span class=\"k\">.</span>addLayer<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>searchLayer<span class=\"k\">);</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>showRest<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> c<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>findFs<span class=\"k\">(</span>a<span class=\"k\">);</span><span class=\"k\">var</span> d<span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>categories<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>d<span class=\"k\">=</span>c<span class=\"k\">.</span>categories<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>icon<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>d<span class=\"k\">=</span><span class=\"s\">\"images/marker.png\"</span><span class=\"k\">}</span><span class=\"k\">var</span> e<span class=\"k\">=</span><span class=\"s\">'&lt;h3&gt;&lt;img src=\"'</span><span class=\"k\">+</span>d<span class=\"k\">+</span><span class=\"s\">'\"&gt;'</span><span class=\"k\">+</span>c<span class=\"k\">.</span>name<span class=\"k\">+</span><span class=\"s\">\"&lt;/h3&gt;\"</span><span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>phone<span class=\"k\">!==</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span>e<span class=\"k\">+=</span><span class=\"s\">\"&lt;div&gt;Phone: \"</span><span class=\"k\">+</span>c<span class=\"k\">.</span>phone<span class=\"k\">+</span><span class=\"s\">\"&lt;/div&gt;\"</span><span class=\"k\">}</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>menu<span class=\"k\">!==</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span>e<span class=\"k\">+=</span><span class=\"s\">'&lt;div&gt;&lt;a href=\"'</span><span class=\"k\">+</span>c<span class=\"k\">.</span>menu<span class=\"k\">.</span>url<span class=\"k\">+</span><span class=\"s\">'\" target=\"_blank\"&gt;Menu&lt;/a&gt;&lt;/div&gt;'</span><span class=\"k\">}</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>user<span class=\"k\">!==</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span>e<span class=\"k\">+=</span><span class=\"s\">\"&lt;div&gt;Votes: \"</span><span class=\"k\">+</span>c<span class=\"k\">.</span>user<span class=\"k\">.</span>length<span class=\"k\">+</span><span class=\"s\">\"&lt;/div&gt;\"</span><span class=\"k\">;</span>e<span class=\"k\">+=</span><span class=\"s\">\"&lt;div&gt;\"</span><span class=\"k\">;</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> g<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>g<span class=\"k\">&lt;</span>c<span class=\"k\">.</span>user<span class=\"k\">.</span>length<span class=\"k\">;</span>g<span class=\"k\">++)</span><span class=\"k\">{</span>e<span class=\"k\">+=</span>c<span class=\"k\">.</span>user<span class=\"k\">[</span>g<span class=\"k\">].</span>imgHTML<span class=\"k\">}</span>e<span class=\"k\">+=</span><span class=\"s\">\"&lt;/div&gt;\"</span><span class=\"k\">}</span>e<span class=\"k\">+=</span><span class=\"s\">'&lt;button class=\"btn\" data-fsid=\"'</span><span class=\"k\">+</span>c<span class=\"k\">.</span>id<span class=\"k\">+</span><span class=\"s\">'\"&gt;Vote for Me&lt;/button&gt;'</span><span class=\"k\">;</span>b<span class=\"k\">(</span>f<span class=\"k\">).</span>html<span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>addSearchFs<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>searchFs<span class=\"k\">[</span>a<span class=\"k\">.</span>id<span class=\"k\">]=</span>a<span class=\"k\">}</span><span class=\"k\">,</span>removeSearchFs<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>searchFs<span class=\"k\">=</span><span class=\"k\">{}}</span><span class=\"k\">,</span>findFs<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>a<span class=\"k\">])</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>a<span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>searchFs<span class=\"k\">[</span>a<span class=\"k\">]</span><span class=\"k\">}}</span><span class=\"k\">,</span>addUser<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>c<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">===</span><span class=\"s\">\"\"</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">\"^(fb:)?\"</span><span class=\"k\">);</span><span class=\"k\">var</span> e<span class=\"k\">=</span>c<span class=\"k\">.</span>split<span class=\"k\">(</span>d<span class=\"k\">);</span><span class=\"k\">var</span> f<span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>e<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>f<span class=\"k\">=</span>e<span class=\"k\">[</span>e<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">2</span><span class=\"k\">];</span>c<span class=\"k\">=</span>e<span class=\"k\">[</span>e<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>f<span class=\"k\">=</span><span class=\"s\">\"gravatar\"</span><span class=\"k\">}</span><span class=\"k\">var</span> g<span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>f<span class=\"k\">&amp;&amp;</span>f<span class=\"k\">===</span><span class=\"s\">\"fb:\"</span><span class=\"k\">)</span><span class=\"k\">{</span>g<span class=\"k\">=</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span>g<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"src\"</span><span class=\"k\">,</span><span class=\"s\">\"https://graph.facebook.com/\"</span><span class=\"k\">+</span>c<span class=\"k\">+</span><span class=\"s\">\"/picture?type=square\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>readCookie<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">)!==</span><span class=\"k\">null</span><span class=\"k\">)</span><span class=\"k\">{</span>g<span class=\"k\">=</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span>g<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"src\"</span><span class=\"k\">,</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>readCookie<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">))</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span><span class=\"k\">var</span> h<span class=\"k\">=</span>md5<span class=\"k\">(</span>c<span class=\"k\">.</span>toLowerCase<span class=\"k\">());</span>g<span class=\"k\">=</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span>g<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"src\"</span><span class=\"k\">,</span><span class=\"s\">\"http://www.gravatar.com/avatar/\"</span><span class=\"k\">+</span>h<span class=\"k\">+</span><span class=\"s\">\"?d=retro&amp;s=18\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">this</span><span class=\"k\">.</span>currentUser<span class=\"k\">=</span><span class=\"k\">new</span> a<span class=\"k\">.</span>User<span class=\"k\">(</span>c<span class=\"k\">,</span>g<span class=\"k\">.</span>src<span class=\"k\">);</span>o<span class=\"k\">.</span>addUser<span class=\"k\">(</span>String<span class=\"k\">(</span>c<span class=\"k\">),</span>String<span class=\"k\">(</span>g<span class=\"k\">.</span>src<span class=\"k\">),</span>n<span class=\"k\">);</span><span class=\"k\">var</span> j<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>currentUser<span class=\"k\">.</span>imgHTML<span class=\"k\">+</span>c<span class=\"k\">+</span><span class=\"s\">' : &lt;a href=\"#\"&gt;Sign out&lt;/a&gt;'</span><span class=\"k\">;</span>b<span class=\"k\">(</span>i<span class=\"k\">).</span>html<span class=\"k\">(</span>j<span class=\"k\">);</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>createCookie<span class=\"k\">(</span><span class=\"s\">\"username\"</span><span class=\"k\">,</span>c<span class=\"k\">);</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>createCookie<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">,</span>g<span class=\"k\">.</span>src<span class=\"k\">);</span>o<span class=\"k\">.</span>getVotes<span class=\"k\">()</span><span class=\"k\">}</span><span class=\"k\">,</span>removeUser<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>eraseCookie<span class=\"k\">(</span><span class=\"s\">\"username\"</span><span class=\"k\">);</span>a<span class=\"k\">.</span>Cookie<span class=\"k\">.</span>eraseCookie<span class=\"k\">(</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>currentUser<span class=\"k\">=</span><span class=\"k\">null</span><span class=\"k\">;</span>b<span class=\"k\">(</span>i<span class=\"k\">).</span>html<span class=\"k\">(</span><span class=\"s\">'&lt;input id=\"login\" type=\"text\" placeholder=\"email\"&gt;'</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>addActivity<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>c<span class=\"k\">,</span>d<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> e<span class=\"k\">=</span><span class=\"s\">\"&lt;li&gt;\"</span><span class=\"k\">+</span>a<span class=\"k\">.</span>imgHTML<span class=\"k\">+</span>a<span class=\"k\">.</span>username<span class=\"k\">+</span><span class=\"s\">' voted for &lt;a href=\"#\" data-fsid=\"'</span><span class=\"k\">+</span>d<span class=\"k\">+</span><span class=\"s\">'\"&gt;'</span><span class=\"k\">+</span>c<span class=\"k\">+</span><span class=\"s\">\"&lt;/li&gt;&lt;hr/&gt;\"</span><span class=\"k\">;</span>b<span class=\"k\">(</span>h<span class=\"k\">).</span>append<span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>showVotes<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span><span class=\"k\">var</span> a<span class=\"k\">=[];</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> c <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>push<span class=\"k\">([</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">].</span>name<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">].</span>user<span class=\"k\">.</span>length<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">].</span>id<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>voteFs<span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">].</span>user<span class=\"k\">])</span><span class=\"k\">}</span>a<span class=\"k\">.</span>sort<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> b<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]-</span>a<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">);</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"s\">\"\"</span><span class=\"k\">;</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> e<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>e<span class=\"k\">&lt;</span>a<span class=\"k\">.</span>length<span class=\"k\">;</span>e<span class=\"k\">++)</span><span class=\"k\">{</span>d<span class=\"k\">+=</span><span class=\"s\">\"&lt;li&gt;\"</span><span class=\"k\">+</span>a<span class=\"k\">[</span>e<span class=\"k\">][</span><span class=\"s\">1</span><span class=\"k\">]+</span><span class=\"s\">' for &lt;a href=\"#\" data-fsid=\"'</span><span class=\"k\">+</span>a<span class=\"k\">[</span>e<span class=\"k\">][</span><span class=\"s\">2</span><span class=\"k\">]+</span><span class=\"s\">'\"&gt;'</span><span class=\"k\">+</span>a<span class=\"k\">[</span>e<span class=\"k\">][</span><span class=\"s\">0</span><span class=\"k\">]+</span><span class=\"s\">\"&lt;/a&gt;&lt;/li&gt;\"</span><span class=\"k\">;</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> f<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>f<span class=\"k\">&lt;</span>a<span class=\"k\">[</span>e<span class=\"k\">][</span><span class=\"s\">3</span><span class=\"k\">].</span>length<span class=\"k\">;</span>f<span class=\"k\">++)</span><span class=\"k\">{</span>d<span class=\"k\">+=</span>a<span class=\"k\">[</span>e<span class=\"k\">][</span><span class=\"s\">3</span><span class=\"k\">][</span>f<span class=\"k\">].</span>imgHTML<span class=\"k\">}}</span>b<span class=\"k\">(</span>g<span class=\"k\">).</span>html<span class=\"k\">(</span>d<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>findRests<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">);</span><span class=\"k\">var</span> c<span class=\"k\">=</span><span class=\"s\">\"https://api.foursquare.com/v2/venues/search?ll=\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">.</span>coords<span class=\"k\">.</span>latitude<span class=\"k\">+</span><span class=\"s\">\",\"</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>location<span class=\"k\">.</span>coords<span class=\"k\">.</span>longitude<span class=\"k\">+</span><span class=\"s\">\"&amp;client_id=NQNF2JL2VKJHXETAOND5TPJ23A2SWGZC4TXJEMLGJBXYMIJM&amp;client_secret=TF1CC0HZVBJ0TM50CRNJNTWSOWZMIKQ30V4DEB4GC2UWZ3KM\"</span><span class=\"k\">;</span><span class=\"k\">if</span><span class=\"k\">(</span>a<span class=\"k\">!==</span><span class=\"s\">\"\"</span><span class=\"k\">)</span><span class=\"k\">{</span>c<span class=\"k\">+=</span><span class=\"s\">\"&amp;query=\"</span><span class=\"k\">+</span>encodeURI<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>c<span class=\"k\">+=</span><span class=\"s\">\"&amp;query=\"</span><span class=\"k\">+</span>encodeURI<span class=\"k\">(</span><span class=\"s\">\"restaurant\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">;</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>c<span class=\"k\">);</span>b<span class=\"k\">.</span>getJSON<span class=\"k\">(</span>c<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>console<span class=\"k\">.</span>log<span class=\"k\">(</span>a<span class=\"k\">);</span><span class=\"k\">var</span> b<span class=\"k\">=</span>a<span class=\"k\">.</span>response<span class=\"k\">.</span>groups<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>items<span class=\"k\">;</span>d<span class=\"k\">.</span>addSearchLayer<span class=\"k\">(</span>b<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>addAlert<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span>p<span class=\"k\">.</span>removeClass<span class=\"k\">(</span><span class=\"s\">\"none\"</span><span class=\"k\">);</span>p<span class=\"k\">.</span>html<span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span>removeAlert<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>p<span class=\"k\">.</span>addClass<span class=\"k\">(</span><span class=\"s\">\"none\"</span><span class=\"k\">)</span><span class=\"k\">}}}</span><span class=\"k\">)(</span>window<span class=\"k\">.</span>Josh<span class=\"k\">=</span>window<span class=\"k\">.</span>Josh<span class=\"k\">||</span><span class=\"k\">{}</span><span class=\"k\">,</span>window<span class=\"k\">.</span>jQuery<span class=\"k\">);(</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"s\">\"use strict\"</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Votes<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">=</span><span class=\"k\">{}}</span><span class=\"k\">;</span>a<span class=\"k\">.</span>Votes<span class=\"k\">.</span>prototype<span class=\"k\">=</span><span class=\"k\">{</span>addVote<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> c<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>findByUser<span class=\"k\">(</span>a<span class=\"k\">.</span>user<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>username<span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">!==</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>user<span class=\"k\">.</span>length<span class=\"k\">===</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span>a<span class=\"k\">.</span>marker<span class=\"k\">===</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span>a<span class=\"k\">.</span>marker<span class=\"k\">=</span>c<span class=\"k\">.</span>marker<span class=\"k\">}</span><span class=\"k\">if</span><span class=\"k\">(</span>a<span class=\"k\">.</span>id<span class=\"k\">!==</span>c<span class=\"k\">.</span>id<span class=\"k\">)</span><span class=\"k\">{</span>b<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">).</span>trigger<span class=\"k\">(</span><span class=\"s\">\"removeLayer\"</span><span class=\"k\">,</span>c<span class=\"k\">.</span>marker<span class=\"k\">)</span><span class=\"k\">}}</span><span class=\"k\">else</span><span class=\"k\">{</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>d<span class=\"k\">&lt;</span>c<span class=\"k\">.</span>user<span class=\"k\">.</span>length<span class=\"k\">;</span>d<span class=\"k\">++)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span>c<span class=\"k\">.</span>user<span class=\"k\">[</span>d<span class=\"k\">].</span>username<span class=\"k\">===</span>a<span class=\"k\">.</span>user<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>username<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> e<span class=\"k\">=</span>c<span class=\"k\">.</span>user<span class=\"k\">.</span>splice<span class=\"k\">(</span>d<span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>c<span class=\"k\">.</span>id<span class=\"k\">]=</span>c<span class=\"k\">}}}}</span><span class=\"k\">var</span> f<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>findByFs<span class=\"k\">(</span>a<span class=\"k\">.</span>id<span class=\"k\">);</span><span class=\"k\">if</span><span class=\"k\">(</span>f<span class=\"k\">!==</span>undefined<span class=\"k\">)</span><span class=\"k\">{</span>f<span class=\"k\">.</span>user<span class=\"k\">.</span>push<span class=\"k\">(</span>a<span class=\"k\">.</span>user<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]);</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>f<span class=\"k\">.</span>id<span class=\"k\">]=</span>f<span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>a<span class=\"k\">.</span>id<span class=\"k\">]=</span>a<span class=\"k\">}}</span><span class=\"k\">,</span>findByUser<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> b <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> c<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>c<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>b<span class=\"k\">].</span>user<span class=\"k\">.</span>length<span class=\"k\">;</span>c<span class=\"k\">++)</span><span class=\"k\">{</span><span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>b<span class=\"k\">].</span>user<span class=\"k\">[</span>c<span class=\"k\">].</span>username<span class=\"k\">===</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> d<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>b<span class=\"k\">];</span><span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>b<span class=\"k\">];</span><span class=\"k\">return</span> d<span class=\"k\">}}}}</span><span class=\"k\">,</span>findByFs<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">var</span> b<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>a<span class=\"k\">];</span><span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"k\">.</span>votes<span class=\"k\">[</span>a<span class=\"k\">];</span><span class=\"k\">return</span> b<span class=\"k\">}}}</span><span class=\"k\">)(</span>window<span class=\"k\">.</span>Josh<span class=\"k\">=</span>window<span class=\"k\">.</span>Josh<span class=\"k\">||</span><span class=\"k\">{}</span><span class=\"k\">,</span>window<span class=\"k\">.</span>jQuery<span class=\"k\">);</span><span class=\"k\">var</span> locError<span class=\"k\">=</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">)</span><span class=\"k\">{}</span>"];
_$jscoverage['joshNS.min.js'][1]++;
(function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  "use strict";
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie = {};
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.createCookie = (function (a, b, c) {
  _$jscoverage['joshNS.min.js'][1]++;
  var d;
  _$jscoverage['joshNS.min.js'][1]++;
  if (c) {
    _$jscoverage['joshNS.min.js'][1]++;
    var e = new Date();
    _$jscoverage['joshNS.min.js'][1]++;
    e.setTime((e.getTime() + (c * 24 * 60 * 60 * 1000)));
    _$jscoverage['joshNS.min.js'][1]++;
    d = ("; expires=" + e.toGMTString());
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    d = "";
  }
  _$jscoverage['joshNS.min.js'][1]++;
  document.cookie = (a + "=" + b + d + "; path=/");
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.readCookie = (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var b = (a + "=");
  _$jscoverage['joshNS.min.js'][1]++;
  var c = document.cookie.split(";");
  _$jscoverage['joshNS.min.js'][1]++;
  for (var d = 0; (d < c.length); (d++)) {
    _$jscoverage['joshNS.min.js'][1]++;
    var e = c[d];
    _$jscoverage['joshNS.min.js'][1]++;
    while ((e.charAt(0) === " ")) {
      _$jscoverage['joshNS.min.js'][1]++;
      e = e.substring(1, e.length);
}
    _$jscoverage['joshNS.min.js'][1]++;
    if ((e.indexOf(b) === 0)) {
      _$jscoverage['joshNS.min.js'][1]++;
      return e.substring(b.length, e.length);
    }
}
  _$jscoverage['joshNS.min.js'][1]++;
  return null;
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.eraseCookie = (function (b) {
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.createCookie(b, "", -1);
});
})((window.Josh = (window.Josh || {})));
_$jscoverage['joshNS.min.js'][1]++;
(function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  "use strict";
  _$jscoverage['joshNS.min.js'][1]++;
  var c;
  _$jscoverage['joshNS.min.js'][1]++;
  var d;
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket = (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  e(a);
});
  _$jscoverage['joshNS.min.js'][1]++;
  var e = (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  c = io.connect(a);
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket.prototype.addEvent = (function (a, d) {
  _$jscoverage['joshNS.min.js'][1]++;
  c.on(a, (function (c) {
  _$jscoverage['joshNS.min.js'][1]++;
  b(d).trigger(a, c);
}));
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket.prototype.getVotes = (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  c.emit("getVotes");
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket.prototype.getUsers = (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  c.emit("get");
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket.prototype.addUser = (function (a, b, d) {
  _$jscoverage['joshNS.min.js'][1]++;
  console.log((a + " " + b));
  _$jscoverage['joshNS.min.js'][1]++;
  c.emit("add", a, b, d);
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Socket.prototype.addVote = (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var d = b.extend(true, {}, a);
  _$jscoverage['joshNS.min.js'][1]++;
  ((delete d.marker), d.user);
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(a);
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(d);
  _$jscoverage['joshNS.min.js'][1]++;
  c.emit("addVote", d);
});
  _$jscoverage['joshNS.min.js'][1]++;
  return a.Socket;
})((window.Josh = (window.Josh || {})), window.jQuery);
_$jscoverage['joshNS.min.js'][1]++;
(function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  "use strict";
  _$jscoverage['joshNS.min.js'][1]++;
  a.User = (function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  this.username = a;
  _$jscoverage['joshNS.min.js'][1]++;
  this.img = b;
  _$jscoverage['joshNS.min.js'][1]++;
  this.imgHTML = ("<img src=\"" + b + "\" class=\"userimg\" title=\"" + a + "\">");
});
})((window.Josh = (window.Josh || {})), window.jQuery);
_$jscoverage['joshNS.min.js'][1]++;
(function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  "use strict";
  _$jscoverage['joshNS.min.js'][1]++;
  var c;
  _$jscoverage['joshNS.min.js'][1]++;
  var d;
  _$jscoverage['joshNS.min.js'][1]++;
  var e;
  _$jscoverage['joshNS.min.js'][1]++;
  var f;
  _$jscoverage['joshNS.min.js'][1]++;
  var g;
  _$jscoverage['joshNS.min.js'][1]++;
  var h;
  _$jscoverage['joshNS.min.js'][1]++;
  var i;
  _$jscoverage['joshNS.min.js'][1]++;
  var j;
  _$jscoverage['joshNS.min.js'][1]++;
  var k;
  _$jscoverage['joshNS.min.js'][1]++;
  var l;
  _$jscoverage['joshNS.min.js'][1]++;
  var m;
  _$jscoverage['joshNS.min.js'][1]++;
  var n;
  _$jscoverage['joshNS.min.js'][1]++;
  var o;
  _$jscoverage['joshNS.min.js'][1]++;
  var p;
  _$jscoverage['joshNS.min.js'][1]++;
  a.Map = (function (c) {
  _$jscoverage['joshNS.min.js'][1]++;
  c = c;
  _$jscoverage['joshNS.min.js'][1]++;
  o = new (a.Socket)("http://ejosh.co:8080/users");
  _$jscoverage['joshNS.min.js'][1]++;
  this.map = new (L.Map)(c);
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(this.map);
  _$jscoverage['joshNS.min.js'][1]++;
  var d = "http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";
  _$jscoverage['joshNS.min.js'][1]++;
  var q = "Map data \u00a9 openstreetmap contributors";
  _$jscoverage['joshNS.min.js'][1]++;
  var r = new (L.TileLayer)(d, {minZoom: 8, maxZoom: 18, attribution: q});
  _$jscoverage['joshNS.min.js'][1]++;
  this.map.addLayer(r);
  _$jscoverage['joshNS.min.js'][1]++;
  e = L.Icon.extend({shadowUrl: null, iconSize: new (L.Point)(32, 32)});
  _$jscoverage['joshNS.min.js'][1]++;
  f = document.getElementById("fsRest");
  _$jscoverage['joshNS.min.js'][1]++;
  h = document.getElementById("acts");
  _$jscoverage['joshNS.min.js'][1]++;
  g = document.getElementById("votes");
  _$jscoverage['joshNS.min.js'][1]++;
  i = document.getElementById("loginArea");
  _$jscoverage['joshNS.min.js'][1]++;
  j = document.getElementById("search");
  _$jscoverage['joshNS.min.js'][1]++;
  k = b("#searchText");
  _$jscoverage['joshNS.min.js'][1]++;
  l = document.getElementById("clear");
  _$jscoverage['joshNS.min.js'][1]++;
  m = b("#title");
  _$jscoverage['joshNS.min.js'][1]++;
  p = b("#alert");
  _$jscoverage['joshNS.min.js'][1]++;
  var s = this;
  _$jscoverage['joshNS.min.js'][1]++;
  navigator.geolocation.getCurrentPosition((function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  s.centerLoc(a);
}), locError, {timeout: 10000});
  _$jscoverage['joshNS.min.js'][1]++;
  b(f).on("click", "button", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var c = b(a.target);
  _$jscoverage['joshNS.min.js'][1]++;
  if ((s.currentUser !== null)) {
    _$jscoverage['joshNS.min.js'][1]++;
    var d = c.attr("data-fsid");
    _$jscoverage['joshNS.min.js'][1]++;
    var e = s.findFs(d);
    _$jscoverage['joshNS.min.js'][1]++;
    o.addVote(e);
    _$jscoverage['joshNS.min.js'][1]++;
    console.log(s.findFs(d));
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    s.addAlert("You must be logged in!");
  }
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(g).on("click", "li a", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  a.preventDefault();
  _$jscoverage['joshNS.min.js'][1]++;
  s.showRest(b(a.target).attr("data-fsid"));
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(h).on("click", "li a", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  a.preventDefault();
  _$jscoverage['joshNS.min.js'][1]++;
  s.showRest(b(a.target).attr("data-fsid"));
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(i).on("focusout", "input", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var c = b(a.target).val();
  _$jscoverage['joshNS.min.js'][1]++;
  s.addUser(c);
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(i).on("click", "a", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  a.preventDefault();
  _$jscoverage['joshNS.min.js'][1]++;
  s.removeUser();
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(j).on("click", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  s.addAlert("Searching for Restaurants");
  _$jscoverage['joshNS.min.js'][1]++;
  a.preventDefault();
  _$jscoverage['joshNS.min.js'][1]++;
  s.findRests(k.val());
  _$jscoverage['joshNS.min.js'][1]++;
  s.removeAlert();
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(l).on("click", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  a.preventDefault();
  _$jscoverage['joshNS.min.js'][1]++;
  k.val("");
  _$jscoverage['joshNS.min.js'][1]++;
  s.addSearchLayer({});
}));
  _$jscoverage['joshNS.min.js'][1]++;
  p.on("click", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  s.removeAlert();
}));
  _$jscoverage['joshNS.min.js'][1]++;
  this.searchFs = {};
  _$jscoverage['joshNS.min.js'][1]++;
  this.voteFs = new (a.Votes)();
  _$jscoverage['joshNS.min.js'][1]++;
  this.currentUser = null;
  _$jscoverage['joshNS.min.js'][1]++;
  this.searchLayer = null;
  _$jscoverage['joshNS.min.js'][1]++;
  this.location = null;
  _$jscoverage['joshNS.min.js'][1]++;
  o.addEvent("vote", this);
  _$jscoverage['joshNS.min.js'][1]++;
  b(this).on("vote", (function (b, c) {
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(this);
  _$jscoverage['joshNS.min.js'][1]++;
  if ((this.voteFs.votes[c.fs.id] === undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    var d = this.addMarker(c.fs);
    _$jscoverage['joshNS.min.js'][1]++;
    c.fs.marker = d;
  }
  _$jscoverage['joshNS.min.js'][1]++;
  c.fs.user = [new (a.User)(c.username, c.img)];
  _$jscoverage['joshNS.min.js'][1]++;
  this.addActivity(c.fs.user[0], c.fs.name, c.fs.id);
  _$jscoverage['joshNS.min.js'][1]++;
  this.voteFs.addVote(c.fs);
  _$jscoverage['joshNS.min.js'][1]++;
  this.showVotes();
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(c);
}));
  _$jscoverage['joshNS.min.js'][1]++;
  b(this.voteFs).on("removeLayer", (function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  s.removeLayer(b);
}));
  _$jscoverage['joshNS.min.js'][1]++;
  window.addEventListener("hashchange", (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  window.location.reload();
}));
  _$jscoverage['joshNS.min.js'][1]++;
  if (window.location.hash) {
    _$jscoverage['joshNS.min.js'][1]++;
    n = String(window.location.hash).slice(1);
    _$jscoverage['joshNS.min.js'][1]++;
    m.html(n);
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    n = "default";
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var t = a.Cookie.readCookie("username");
  _$jscoverage['joshNS.min.js'][1]++;
  if ((t !== null)) {
    _$jscoverage['joshNS.min.js'][1]++;
    this.addUser(t);
  }
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(this);
  _$jscoverage['joshNS.min.js'][1]++;
  console.log((this.map instanceof L.Map));
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Map.prototype = {centerLoc: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  this.location = a;
  _$jscoverage['joshNS.min.js'][1]++;
  var b = new (L.LatLng)(this.location.coords.latitude, this.location.coords.longitude);
  _$jscoverage['joshNS.min.js'][1]++;
  this.map.setView(b, 11);
}), addMarker: (function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  b = (((typeof b) !== "undefined")? b: true);
  _$jscoverage['joshNS.min.js'][1]++;
  var c;
  _$jscoverage['joshNS.min.js'][1]++;
  if ((a.categories.length > 0)) {
    _$jscoverage['joshNS.min.js'][1]++;
    c = new e(a.categories[0].icon);
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    c = new (L.Icon)("images/marker.png");
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var d = new (L.LatLng)(a.location.lat, a.location.lng);
  _$jscoverage['joshNS.min.js'][1]++;
  var f = new (L.Marker)(d, {icon: c, title: a.name});
  _$jscoverage['joshNS.min.js'][1]++;
  f.fsid = a.id;
  _$jscoverage['joshNS.min.js'][1]++;
  f.img = c.iconUrl;
  _$jscoverage['joshNS.min.js'][1]++;
  var g = this;
  _$jscoverage['joshNS.min.js'][1]++;
  f.on("click", (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  g.showRest(a.target.fsid);
}));
  _$jscoverage['joshNS.min.js'][1]++;
  if (b) {
    _$jscoverage['joshNS.min.js'][1]++;
    this.map.addLayer(f);
  }
  _$jscoverage['joshNS.min.js'][1]++;
  return f;
}), removeLayer: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  this.map.removeLayer(a);
}), addSearchLayer: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  if ((this.searchLayer !== null)) {
    _$jscoverage['joshNS.min.js'][1]++;
    this.map.removeLayer(this.searchLayer);
  }
  _$jscoverage['joshNS.min.js'][1]++;
  this.searchLayer = new (L.LayerGroup)();
  _$jscoverage['joshNS.min.js'][1]++;
  for (var b in a) {
    _$jscoverage['joshNS.min.js'][1]++;
    this.addSearchFs(a[b]);
    _$jscoverage['joshNS.min.js'][1]++;
    var c = this.addMarker(a[b], false);
    _$jscoverage['joshNS.min.js'][1]++;
    this.searchLayer.addLayer(c);
}
  _$jscoverage['joshNS.min.js'][1]++;
  this.map.addLayer(this.searchLayer);
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(this);
}), showRest: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var c = this.findFs(a);
  _$jscoverage['joshNS.min.js'][1]++;
  var d;
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c.categories.length > 0)) {
    _$jscoverage['joshNS.min.js'][1]++;
    d = c.categories[0].icon;
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    d = "images/marker.png";
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var e = ("<h3><img src=\"" + d + "\">" + c.name + "</h3>");
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c.phone !== undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    e += ("<div>Phone: " + c.phone + "</div>");
  }
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c.menu !== undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    e += ("<div><a href=\"" + c.menu.url + "\" target=\"_blank\">Menu</a></div>");
  }
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c.user !== undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    e += ("<div>Votes: " + c.user.length + "</div>");
    _$jscoverage['joshNS.min.js'][1]++;
    e += "<div>";
    _$jscoverage['joshNS.min.js'][1]++;
    for (var g = 0; (g < c.user.length); (g++)) {
      _$jscoverage['joshNS.min.js'][1]++;
      e += c.user[g].imgHTML;
}
    _$jscoverage['joshNS.min.js'][1]++;
    e += "</div>";
  }
  _$jscoverage['joshNS.min.js'][1]++;
  e += ("<button class=\"btn\" data-fsid=\"" + c.id + "\">Vote for Me</button>");
  _$jscoverage['joshNS.min.js'][1]++;
  b(f).html(e);
}), addSearchFs: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  this.searchFs[a.id] = a;
}), removeSearchFs: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  this.searchFs = {};
}), findFs: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  if (this.voteFs.votes[a]) {
    _$jscoverage['joshNS.min.js'][1]++;
    return this.voteFs.votes[a];
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    return this.searchFs[a];
  }
}), addUser: (function (c) {
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c === "")) {
    _$jscoverage['joshNS.min.js'][1]++;
    return;
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var d = new RegExp("^(fb:)?");
  _$jscoverage['joshNS.min.js'][1]++;
  var e = c.split(d);
  _$jscoverage['joshNS.min.js'][1]++;
  var f;
  _$jscoverage['joshNS.min.js'][1]++;
  if ((e.length > 1)) {
    _$jscoverage['joshNS.min.js'][1]++;
    f = e[(e.length - 2)];
    _$jscoverage['joshNS.min.js'][1]++;
    c = e[(e.length - 1)];
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    f = "gravatar";
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var g;
  _$jscoverage['joshNS.min.js'][1]++;
  if ((f && (f === "fb:"))) {
    _$jscoverage['joshNS.min.js'][1]++;
    g = document.createElement("img");
    _$jscoverage['joshNS.min.js'][1]++;
    g.setAttribute("src", ("https://graph.facebook.com/" + c + "/picture?type=square"));
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    if ((a.Cookie.readCookie("img") !== null)) {
      _$jscoverage['joshNS.min.js'][1]++;
      g = document.createElement("img");
      _$jscoverage['joshNS.min.js'][1]++;
      g.setAttribute("src", a.Cookie.readCookie("img"));
    }
    else {
      _$jscoverage['joshNS.min.js'][1]++;
      var h = md5(c.toLowerCase());
      _$jscoverage['joshNS.min.js'][1]++;
      g = document.createElement("img");
      _$jscoverage['joshNS.min.js'][1]++;
      g.setAttribute("src", ("http://www.gravatar.com/avatar/" + h + "?d=retro&s=18"));
    }
  }
  _$jscoverage['joshNS.min.js'][1]++;
  this.currentUser = new (a.User)(c, g.src);
  _$jscoverage['joshNS.min.js'][1]++;
  o.addUser(String(c), String(g.src), n);
  _$jscoverage['joshNS.min.js'][1]++;
  var j = (this.currentUser.imgHTML + c + " : <a href=\"#\">Sign out</a>");
  _$jscoverage['joshNS.min.js'][1]++;
  b(i).html(j);
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.createCookie("username", c);
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.createCookie("img", g.src);
  _$jscoverage['joshNS.min.js'][1]++;
  o.getVotes();
}), removeUser: (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.eraseCookie("username");
  _$jscoverage['joshNS.min.js'][1]++;
  a.Cookie.eraseCookie("img");
  _$jscoverage['joshNS.min.js'][1]++;
  this.currentUser = null;
  _$jscoverage['joshNS.min.js'][1]++;
  b(i).html("<input id=\"login\" type=\"text\" placeholder=\"email\">");
}), addActivity: (function (a, c, d) {
  _$jscoverage['joshNS.min.js'][1]++;
  var e = ("<li>" + a.imgHTML + a.username + " voted for <a href=\"#\" data-fsid=\"" + d + "\">" + c + "</li><hr/>");
  _$jscoverage['joshNS.min.js'][1]++;
  b(h).append(e);
}), showVotes: (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  var a = [];
  _$jscoverage['joshNS.min.js'][1]++;
  for (var c in this.voteFs.votes) {
    _$jscoverage['joshNS.min.js'][1]++;
    a.push([this.voteFs.votes[c].name, this.voteFs.votes[c].user.length, this.voteFs.votes[c].id, this.voteFs.votes[c].user]);
}
  _$jscoverage['joshNS.min.js'][1]++;
  a.sort((function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  return (b[1] - a[1]);
}));
  _$jscoverage['joshNS.min.js'][1]++;
  var d = "";
  _$jscoverage['joshNS.min.js'][1]++;
  for (var e = 0; (e < a.length); (e++)) {
    _$jscoverage['joshNS.min.js'][1]++;
    d += ("<li>" + a[e][1] + " for <a href=\"#\" data-fsid=\"" + a[e][2] + "\">" + a[e][0] + "</a></li>");
    _$jscoverage['joshNS.min.js'][1]++;
    for (var f = 0; (f < a[e][3].length); (f++)) {
      _$jscoverage['joshNS.min.js'][1]++;
      d += a[e][3][f].imgHTML;
}
}
  _$jscoverage['joshNS.min.js'][1]++;
  b(g).html(d);
}), findRests: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(this.location);
  _$jscoverage['joshNS.min.js'][1]++;
  var c = ("https://api.foursquare.com/v2/venues/search?ll=" + this.location.coords.latitude + "," + this.location.coords.longitude + "&client_id=NQNF2JL2VKJHXETAOND5TPJ23A2SWGZC4TXJEMLGJBXYMIJM&client_secret=TF1CC0HZVBJ0TM50CRNJNTWSOWZMIKQ30V4DEB4GC2UWZ3KM");
  _$jscoverage['joshNS.min.js'][1]++;
  if ((a !== "")) {
    _$jscoverage['joshNS.min.js'][1]++;
    c += ("&query=" + encodeURI(a));
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    c += ("&query=" + encodeURI("restaurant"));
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var d = this;
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(c);
  _$jscoverage['joshNS.min.js'][1]++;
  b.getJSON(c, (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  console.log(a);
  _$jscoverage['joshNS.min.js'][1]++;
  var b = a.response.groups[0].items;
  _$jscoverage['joshNS.min.js'][1]++;
  d.addSearchLayer(b);
}));
}), addAlert: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  p.removeClass("none");
  _$jscoverage['joshNS.min.js'][1]++;
  p.html(a);
}), removeAlert: (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  p.addClass("none");
})};
})((window.Josh = (window.Josh || {})), window.jQuery);
_$jscoverage['joshNS.min.js'][1]++;
(function (a, b) {
  _$jscoverage['joshNS.min.js'][1]++;
  "use strict";
  _$jscoverage['joshNS.min.js'][1]++;
  a.Votes = (function () {
  _$jscoverage['joshNS.min.js'][1]++;
  this.votes = {};
});
  _$jscoverage['joshNS.min.js'][1]++;
  a.Votes.prototype = {addVote: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var c = this.findByUser(a.user[0].username);
  _$jscoverage['joshNS.min.js'][1]++;
  if ((c !== undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    if ((c.user.length === 1)) {
      _$jscoverage['joshNS.min.js'][1]++;
      if ((a.marker === undefined)) {
        _$jscoverage['joshNS.min.js'][1]++;
        a.marker = c.marker;
      }
      _$jscoverage['joshNS.min.js'][1]++;
      if ((a.id !== c.id)) {
        _$jscoverage['joshNS.min.js'][1]++;
        b(this).trigger("removeLayer", c.marker);
      }
    }
    else {
      _$jscoverage['joshNS.min.js'][1]++;
      for (var d = 0; (d < c.user.length); (d++)) {
        _$jscoverage['joshNS.min.js'][1]++;
        if ((c.user[d].username === a.user[0].username)) {
          _$jscoverage['joshNS.min.js'][1]++;
          var e = c.user.splice(d, 1);
          _$jscoverage['joshNS.min.js'][1]++;
          this.votes[c.id] = c;
        }
}
    }
  }
  _$jscoverage['joshNS.min.js'][1]++;
  var f = this.findByFs(a.id);
  _$jscoverage['joshNS.min.js'][1]++;
  if ((f !== undefined)) {
    _$jscoverage['joshNS.min.js'][1]++;
    f.user.push(a.user[0]);
    _$jscoverage['joshNS.min.js'][1]++;
    this.votes[f.id] = f;
  }
  else {
    _$jscoverage['joshNS.min.js'][1]++;
    this.votes[a.id] = a;
  }
}), findByUser: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  for (var b in this.votes) {
    _$jscoverage['joshNS.min.js'][1]++;
    for (var c = 0; (c < this.votes[b].user.length); (c++)) {
      _$jscoverage['joshNS.min.js'][1]++;
      if ((this.votes[b].user[c].username === a)) {
        _$jscoverage['joshNS.min.js'][1]++;
        var d = this.votes[b];
        _$jscoverage['joshNS.min.js'][1]++;
        (delete this.votes[b]);
        _$jscoverage['joshNS.min.js'][1]++;
        return d;
      }
}
}
}), findByFs: (function (a) {
  _$jscoverage['joshNS.min.js'][1]++;
  var b = this.votes[a];
  _$jscoverage['joshNS.min.js'][1]++;
  (delete this.votes[a]);
  _$jscoverage['joshNS.min.js'][1]++;
  return b;
})};
})((window.Josh = (window.Josh || {})), window.jQuery);
_$jscoverage['joshNS.min.js'][1]++;
var locError = (function (a) {
});
